# ペット（サイバーパンク風アンドロイド）デザイン

EP-41「ペットページの作成」および EP-42「アイテム付与機能」で使用する、サイバーパンク風アンドロイドペットのビジュアル方針です。

**関連**: [202603計画](../planning/202603計画.md) EP-41・EP-42／[AIパートナービジュアル](./ai-partner-visual-nanobanana.md)／[bar-bg](../../apps/frontend/public/images/partner/bar-bg.png)

---

## 1. 世界観の統一

- **舞台**: AIパートナーと同じ「サイバーパンク都市のバー」。バー背景（`bar-bg.png`）のネオン（シアン・マゼンタ・紫・緑）と暗いトーンに合わせる。
- **画風**: ピクセルアート・ドット絵（ヴァルハラ風）。パートナー・ガチャアイテムと統一。
- **役割**: バーにいる「相棒」として、パートナーと並んで表示されるペットキャラクター。

---

## 2. アセット配置

ペット画像は**背景を含めない**（透過PNG）。バー背景（`bar-bg.png`）の上に重ねて表示する。

### 2.1 ファイル一覧（レアリティ別バリエーション）

| ファイル名 | 用途 | 見た目の目安 |
|------------|------|--------------|
| `standing.png` | デフォルト（未渡し or ベース） | シアン・マゼンタのネオン発光。ベースのアンドロイド。 |
| `standing-glow-common.png` | コモンアイテムを渡した直後 | デフォルトよりわずかに発光を強く。控えめ。 |
| `standing-glow-rare.png` | レアを渡した直後 | バイザー・コアを**青系で強発光**。薄いグロー。 |
| `standing-glow-super-rare.png` | スーパーレアを渡した直後 | **紫系ネオン**。ネオン強度アップ、光のストリップが目立つ。 |
| `standing-glow-ultra-rare.png` | ウルトラレアを渡した直後 | **ゴールド系**。オーラ・光の渦や脈動を追加。 |
| `standing-glow-legend.png` | レジェンドを渡した直後 | **虹色・多色**。最大限派手。虹色オーラ・粒子を付与。 |

**配置パス**: `apps/frontend/public/images/partner/pet/`  
**参照例**: `/images/partner/pet/standing.png`

- 未配置のファイルはアプリ側で `standing.png` にフォールバックする。
- レアリティ色は [gacha-items-nanobanana.md](./gacha-items-nanobanana.md) の「レアリティ別の色・光」に合わせると世界観が揃う。

### 2.2 実装との対応（切り替え仕様）

| 条件 | 表示画像 | 備考 |
|------|----------|------|
| ペットに一度もアイテムを渡していない | `standing.png` | API の `lastPetRarity` が null |
| 最後に渡したアイテムが common | `standing-glow-common.png` | 控えめ発光 |
| 最後に渡したアイテムが rare | `standing-glow-rare.png` | 青系強発光 |
| 最後に渡したアイテムが super-rare | `standing-glow-super-rare.png` | 紫系ネオン |
| 最後に渡したアイテムが ultra-rare | `standing-glow-ultra-rare.png` | ゴールド系オーラ |
| 最後に渡したアイテムが legend | `standing-glow-legend.png` | 虹色・最大派手 |
| 上記以外のレアリティ or 画像未配置 | `standing.png` | フォールバック |

- 切り替えタイミング: **「最後にペットに渡したアイテム」のレアリティ**で表示を決める（「渡した直後」だけの一時表示ではない）。アイテムを渡すと API が更新され、バーページのペット画像が再取得後に切り替わる。
- ファイル名は **英小文字・ハイフン・拡張子 `.png` のみ**。二重拡張子（例: `standing-glow-rare.png.png`）にすると 404 でフォールバックするため避ける。

---

## 3. アイテム付与で雰囲気を変える設計（理想・派手め）

EP-42 で「アイテムをAIパートナーやペットに渡す」機能を実装する際、ペットの変化は**一目でわかるほど派手に**する。

### 3.1 変化の方向性（大胆に）

| 要素 | デフォルト | アイテム連動時（派手な変化） |
|------|------------|------------------------------|
| バイザー／目 | シアン発光 | レアリティに応じた**強発光**＋色の大胆な切り替え（青→紫→金→虹）。レジェンド時は**多色点滅**も検討 |
| 胸部コア | マゼンタ発光 | **オーラ・パーティクル**を追加。ウルトラレア以上は光の渦や脈動エフェクト |
| 腕・装飾 | シアン／マゼンタ | 装備に応じて**ネオン強度アップ**、または**追加の光のストリップ**で全身がにじむような発光 |
| 周囲エフェクト | なし | レア以上で**グロー／光の輪**、レジェンドで**虹色のオーラ・粒子**を画像またはCSSで付与 |

- **画像バリエーション**: 上記 2.1 のとおり、レアリティ別に 6 種類（standing.png ＋ common 〜 legend 用の standing-glow-*.png）を用意し、渡したアイテムのレアリティで切り替える。差がはっきりするよう、色・光量・オーラの有無を強く変える。
- ガチャのレアリティ色（[gacha-items-nanobanana.md](./gacha-items-nanobanana.md)）に合わせ、**コモンは控えめ、レジェンドは最大限派手**にすると、獲得の喜びが伝わりやすい。
- 作成時は `standing.png` をベースにコピーし、バイザー・胸部コア・腕ストリップ・周囲エフェクトだけを段階的に派手にした版を出力すると効率的。

---

## 4. キャラクターの特徴（ベースデザイン）

- **体型**: 小さめ・チビ比例のアンドロイド（ペットとしてのサイズ感）。
- **質感**: 暗いメタルボディ、関節やパネルがわかる機械的な造形。
- **発光**: バイザー（単眼）、胸部コア、腕のストリップがネオンで光る。デフォルトはシアン＋マゼンタでバー背景と調和。
- **親しみやすさ**: サブカル・ゲームに馴染む可愛らしさを維持。
